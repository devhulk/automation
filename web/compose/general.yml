version: '3'
services:
    api:
        image: 'node:8'
        user: 'node'
        working_dir: /home/node/app
        volumes:
            - ../../images/api:/home/node/app
        command: 'npm start'
    web-app:
        build:
            dockerfile: Dockerfile 
            context: ../../images/web-app
        expose:
            - '80'
    proxy:
        restart: always
        build:
            dockerfile: Dockerfile 
            context: ../../images/nginx
        ports:
            - '3050:80'
